import{j as a}from"./jsx-runtime-DR9Q75dM.js";import{T as x,D as y,d as u}from"./index-DlSQN3eM.js";import{r as i}from"./index-DRjF_FHU.js";import{$ as h}from"./PortalProvider-DG1WN5c3.js";import{c as v}from"./index-By-mRCMU.js";import{A as m}from"./Alert-DH-nntUY.js";import{$ as T}from"./openLink--SV7cA94.js";import{I as C}from"./useTranslation-BZwSnrkG.js";function g({i18n:e,defaultNS:t,children:o}){const s=i.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return i.createElement(C.Provider,{value:s},o)}const V="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let D=(e=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=V[o[e]&63];return t};const _=()=>{const[e,t]=i.useState([]),o=i.useCallback(n=>{t(l=>l.filter(d=>d.id!==n))},[]),s=i.useCallback(n=>{const l=D(),r=()=>o(l),d=n.duration?setTimeout(r,n.duration):void 0;return t(c=>c.concat({...n,id:l,dismiss:r,timeout:d})),r},[o]);return i.useMemo(()=>({toasts:e,toast:s}),[e,s])},p=({maxVisibleToasts:e=5})=>{const{toasts:t}=i.useContext(x);return a.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col space-y-2",children:t.slice(0,e).map(({id:o,title:s,description:n,className:l,action:r,variant:d,dismiss:c,...f})=>a.jsxs(m,{variant:d,onClose:c,className:v("animate-slide-in fade-in shadow-sm w-[300px]",l),...f,children:[s&&a.jsx(m.Title,{children:s}),n&&a.jsx(m.Description,{children:n}),r&&a.jsx("div",{className:"mt-2",children:r})]},o))})};try{p.displayName="Toaster",p.__docgenInfo={description:"Toaster component that displays a list of toast notifications.",displayName:"Toaster",props:{maxVisibleToasts:{defaultValue:{value:"5"},description:"",name:"maxVisibleToasts",required:!1,type:{name:"number"}}}}}catch{}const b=({getContainer:e=u.getContainer,breakpoints:t=u.breakpoints,navigate:o=u.navigate,i18nextInstance:s,maxVisibleToasts:n=u.maxVisibleToasts,children:l})=>{const r=_(),d=i.useMemo(()=>({getContainer:e,breakpoints:t,navigate:o,i18nextInstance:s}),[t,e,s,o]);return a.jsx(i.Suspense,{fallback:a.jsx("div",{children:"loading..."}),children:a.jsx(y.Provider,{value:d,children:a.jsx(x.Provider,{value:r,children:a.jsx(h,{getContainer:e,children:a.jsx(T,{navigate:o,children:a.jsxs(g,{i18n:s,children:[l,a.jsx(p,{maxVisibleToasts:n})]})})})})})})};b.displayName="DobbyContextProvider";try{b.displayName="DobbyContextProvider",b.__docgenInfo={description:"Wrapper component that provides a unified context to its children",displayName:"DobbyContextProvider",props:{maxVisibleToasts:{defaultValue:{value:"dobbyContextDefaultValues.maxVisibleToasts"},description:"Maximum number of toasts that can be visible at the same time",name:"maxVisibleToasts",required:!1,type:{name:"number"}},getContainer:{defaultValue:{value:"dobbyContextDefaultValues.getContainer"},description:"The container element that Dobby will use to render any components that need to be dynamically attached to the DOM. (e.g. modals)",name:"getContainer",required:!1,type:{name:"(() => HTMLElement | null)"}},breakpoints:{defaultValue:{value:"dobbyContextDefaultValues.breakpoints"},description:"Breakpoint definitions",name:"breakpoints",required:!1,type:{name:'{ [key: string]: number; sm: number; md: number; lg: number; xl: number; "2xl": number; }'}},navigate:{defaultValue:{value:"dobbyContextDefaultValues.navigate"},description:"The navigate function to use internally and expose through the useDobbyContext hook, to keep everything consistent across apps",name:"navigate",required:!1,type:{name:"((to: string | number, options?: NavigateOptions) => void)"}},i18nextInstance:{defaultValue:null,description:"The i18next instance to use for translations",name:"i18nextInstance",required:!1,type:{name:"i18n"}}}}}catch{}export{b as D};
