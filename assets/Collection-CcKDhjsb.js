import{a as R}from"./Hidden-D-_eR-7_.js";import{r as P}from"./index-rX-Bn4lm.js";import{r,R as d}from"./index-DRjF_FHU.js";import{$,h as _}from"./useFocusRing-BAhATwIy.js";class g{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new g(this.type,this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e}constructor(e,t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.type=e,this.key=t}}class z{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let n=t.get(e),l=(n==null?void 0:n.firstChildKey)!=null?t.get(n.firstChildKey):null;for(;l;)yield l,l=l.nextKey!=null?t.get(l.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var n;return(n=t==null?void 0:t.key)!==null&&n!==void 0?n:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(e==null?void 0:e.lastChildKey)!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(e.key,e)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(e)}commit(e,t,n=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!n}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}}class w{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}appendChild(e){this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode;let n=t;for(;n;)n.index++,n=n.nextSibling;e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}removeChild(e){if(e.parentNode!==this||!this.ownerDocument.isMounted)return;this.ownerDocument.startTransaction();let t=e.nextSibling;for(;t;)t.index--,t=t.nextSibling;e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.removeNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}addEventListener(){}removeEventListener(){}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this.ownerDocument=e}}class v extends w{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof v?this.parentNode.level+(this.node.type==="item"?1:0):0}updateNode(){var e,t,n,l;let o=this.ownerDocument.getMutableNode(this);o.index=this.index,o.level=this.level,o.parentKey=this.parentNode instanceof v?this.parentNode.node.key:null;var a;o.prevKey=(a=(e=this.previousSibling)===null||e===void 0?void 0:e.node.key)!==null&&a!==void 0?a:null;var u;o.nextKey=(u=(t=this.nextSibling)===null||t===void 0?void 0:t.node.key)!==null&&u!==void 0?u:null,o.hasChildNodes=!!this.firstChild;var s;o.firstChildKey=(s=(n=this.firstChild)===null||n===void 0?void 0:n.node.key)!==null&&s!==void 0?s:null;var h;o.lastChildKey=(h=(l=this.lastChild)===null||l===void 0?void 0:l.node.key)!==null&&h!==void 0?h:null}setProps(e,t,n,l){let o=this.ownerDocument.getMutableNode(this),{value:a,textValue:u,id:s,...h}=e;if(h.ref=t,o.props=h,o.rendered=n,o.render=l,o.value=a,o.textValue=u||(typeof h.children=="string"?h.children:"")||e["aria-label"]||"",s!=null&&s!==o.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");o.key=s}this.hasSetProps||(this.ownerDocument.addNode(this),this.ownerDocument.endTransaction(),this.hasSetProps=!0),this.ownerDocument.queueUpdate()}get style(){return{}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this._index=0,this.hasSetProps=!1,this.node=new g(e,`react-aria-${++t.nodeId}`),this.ownerDocument.startTransaction()}}class A extends w{get isConnected(){return this.isMounted}createElement(e){return new v(e,this)}getMutableNode(e){let t=e.node;return this.mutatedNodes.has(e)||(t=e.node.clone(),this.mutatedNodes.add(e),e.node=t),this.markDirty(e),t}getMutableCollection(){return!this.isSSR&&!this.collectionMutated&&(this.collection=this.collection.clone(),this.collectionMutated=!0),this.collection}markDirty(e){this.dirtyNodes.add(e)}startTransaction(){this.transactionCount++}endTransaction(){this.transactionCount--}addNode(e){let t=this.getMutableCollection();if(!t.getItem(e.node.key)){t.addNode(e.node);for(let n of e)this.addNode(n)}this.markDirty(e)}removeNode(e){for(let n of e)this.removeNode(n);this.getMutableCollection().removeNode(e.node.key),this.markDirty(e)}getCollection(){return this.transactionCount>0?this.collection:(this.updateCollection(),this.collection)}updateCollection(){for(let o of this.dirtyNodes)o instanceof v&&o.isConnected&&o.updateNode();if(this.dirtyNodes.clear(),this.mutatedNodes.size||this.collectionMutated){var e,t;let o=this.getMutableCollection();for(let a of this.mutatedNodes)a.isConnected&&o.addNode(a.node);var n,l;o.commit((n=(e=this.firstChild)===null||e===void 0?void 0:e.node.key)!==null&&n!==void 0?n:null,(l=(t=this.lastChild)===null||t===void 0?void 0:t.node.key)!==null&&l!==void 0?l:null,this.isSSR),this.mutatedNodes.clear()}this.collectionMutated=!1}queueUpdate(){if(!(this.dirtyNodes.size===0||this.transactionCount>0))for(let e of this.subscriptions)e()}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.mutatedNodes=new Set,this.subscriptions=new Set,this.transactionCount=0,this.collection=e,this.collectionMutated=!0}}function k(i){let{children:e,items:t,idScope:n,addIdAndValue:l,dependencies:o=[]}=i,a=r.useMemo(()=>new WeakMap,o);return r.useMemo(()=>{if(t&&typeof e=="function"){let h=[];for(let f of t){let c=a.get(f);if(!c){c=e(f);var u,s;let p=(s=(u=c.props.id)!==null&&u!==void 0?u:f.key)!==null&&s!==void 0?s:f.id;if(p==null)throw new Error("Could not determine key for item");n&&(p=n+":"+p),c=r.cloneElement(c,l?{key:p,id:p,value:f}:{key:p}),a.set(f,c)}h.push(c)}return h}else if(typeof e!="function")return e},[e,t,a,n,l])}var K={exports:{}},E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y=r;function I(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var T=typeof Object.is=="function"?Object.is:I,V=y.useState,B=y.useEffect,U=y.useLayoutEffect,q=y.useDebugValue;function F(i,e){var t=e(),n=V({inst:{value:t,getSnapshot:e}}),l=n[0].inst,o=n[1];return U(function(){l.value=t,l.getSnapshot=e,S(l)&&o({inst:l})},[i,t,e]),B(function(){return S(l)&&o({inst:l}),i(function(){S(l)&&o({inst:l})})},[i]),q(t),t}function S(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!T(i,t)}catch{return!0}}function L(i,e){return e()}var j=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?L:F;E.useSyncExternalStore=y.useSyncExternalStore!==void 0?y.useSyncExternalStore:j;K.exports=E;var W=K.exports;const D=r.createContext(!1),m=r.createContext(null);function ie(i){if(r.useContext(m))return i.content;let{collection:t,document:n}=J(i.createCollection);return d.createElement(d.Fragment,null,d.createElement(R,null,d.createElement(m.Provider,{value:n},i.content)),d.createElement(O,{render:i.children,collection:t}))}function O({collection:i,render:e}){return e(i)}function G(i,e,t){let n=$(),l=r.useRef(n);l.current=n;let o=r.useCallback(()=>l.current?t():e(),[e,t]);return W.useSyncExternalStore(i,o)}const H=typeof d.useSyncExternalStore=="function"?d.useSyncExternalStore:G;function J(i){let[e]=r.useState(()=>new A((i==null?void 0:i())||new z)),t=r.useCallback(a=>e.subscribe(a),[e]),n=r.useCallback(()=>{let a=e.getCollection();return e.isSSR&&e.resetAfterSSR(),a},[e]),l=r.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),o=H(t,n,l);return _(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:o,document:e}}const C=r.createContext(null);function M(i,e,t,n,l,o){let a=r.useCallback(s=>{s==null||s.setProps(e,t,n,o)},[e,t,n,o]),u=r.useContext(C);if(u){let s=u.ownerDocument.nodesByProps.get(e);return s||(s=u.ownerDocument.createElement(i),s.setProps(e,t,n,o),u.appendChild(s),u.ownerDocument.updateCollection(),u.ownerDocument.nodesByProps.set(e,s)),l?d.createElement(C.Provider,{value:s},l):null}return d.createElement(i,{ref:a},l)}function ne(i,e){let t=({node:l})=>e(l.props,l.props.ref,l),n=r.forwardRef((l,o)=>{if(!r.useContext(D)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(l,o)}return M(i,l,o,"children"in l?l.children:null,null,u=>d.createElement(t,{node:u}))});return n.displayName=e.name,n}function le(i,e,t=N){let n=({node:o})=>e(o.props,o.props.ref,o),l=r.forwardRef((o,a)=>{let u=t(o);var s;return(s=M(i,o,a,null,u,h=>d.createElement(n,{node:h})))!==null&&s!==void 0?s:d.createElement(d.Fragment,null)});return l.displayName=e.name,l}function N(i){return k({...i,addIdAndValue:!0})}const x=r.createContext(null);function oe(i){let e=r.useContext(x),t=((e==null?void 0:e.dependencies)||[]).concat(i.dependencies),n=i.idScope||(e==null?void 0:e.idScope),l=N({...i,idScope:n,dependencies:t});return r.useContext(m)&&(l=d.createElement(Q,null,l)),e=r.useMemo(()=>({dependencies:t,idScope:n}),[n,...t]),d.createElement(x.Provider,{value:e},l)}function Q({children:i}){let e=r.useContext(m),t=r.useMemo(()=>d.createElement(m.Provider,{value:null},d.createElement(D.Provider,{value:!0},i)),[i]);return $()?d.createElement(C.Provider,{value:e},t):P.createPortal(t,e)}const re=r.createContext(null),X={CollectionRoot({collection:i,renderDropIndicator:e}){return b(i,null,e)},CollectionBranch({collection:i,parent:e,renderDropIndicator:t}){return b(i,e,t)}};function b(i,e,t){return k({items:e?i.getChildren(e.key):i,dependencies:[t],children(n){var l;let o=n.render(n);if(!t||n.type!=="item")return o;let a=n.key,u=i.getKeyAfter(a);return d.createElement(d.Fragment,null,t({type:"item",key:a,dropPosition:"before"}),o,(u==null||((l=i.getItem(u))===null||l===void 0?void 0:l.type)!=="item")&&t({type:"item",key:a,dropPosition:"after"}))}})}const se=r.createContext(X);function ae(i){return r.useMemo(()=>i!=null?new Set([i]):null,[i])}export{ie as $,ne as a,oe as b,se as c,ae as d,re as e,X as f,le as g,k as h,z as i,g as j};
