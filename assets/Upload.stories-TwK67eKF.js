import{j as t}from"./jsx-runtime-DR9Q75dM.js";import{c as _}from"./index-By-mRCMU.js";import{o as be}from"./Description-BZTUmzGN.js";import{q as se}from"./Info-CwC22AGT.js";import{r as b,R as w}from"./index-DRjF_FHU.js";import{q as xe,g as I,C as $e,i as ge,b as ne,j as ve,k as he,r as ye,l as De,p as ce,w as je,c as Y,a as Pe}from"./useFocusRing-DmDxhQCI.js";import{$ as we}from"./intlStrings-ZMTSFH_M.js";import{a as Be,b as z}from"./Text-w-xymXK0.js";import{$ as Ee}from"./useLabels-DHGrCtKF.js";import{a as Ne}from"./FocusScope-BD8VaRNk.js";import{$ as G,a as Ie,b as Fe}from"./useDrop-JzMtrwFV.js";import{b as Se}from"./Button-Bv4BAfRP.js";import{$ as Me}from"./useLocalizedStringFormatter-DDHaVjp6.js";import{$ as Te}from"./VisuallyHidden-BC8uHK73.js";import{b as de}from"./Input-Br8Q7hRI.js";import{$ as ke}from"./PressResponder-DV9psGSD.js";import{c as fe}from"./FieldError-QM41p4cP.js";import{B as pe}from"./Button-BFKUvJy0.js";import{I as Re}from"./IconButton-BvVwH5F1.js";import{P as qe}from"./Pill-ByEbGEhU.js";import{T as Ce}from"./TextField-CUM5k8mr.js";import{u as ue}from"./useTranslation-CB18ANDh.js";import"./index-rX-Bn4lm.js";import"./platform-SeyP_Zfo.js";import"./ariaHideOutside-7Z-f0sYi.js";import"./useDescription-vAR7K5Yy.js";import"./Hidden-CICGlFC4.js";import"./useFocusable-Cuxsel3J.js";import"./usePress-76wSwCmG.js";import"./openLink--SV7cA94.js";import"./context-C5A1kbiU.js";import"./useFormReset-B7wBBm0H.js";import"./useControlledState-uSQY0H5C.js";import"./Form-qpAKqtEj.js";import"./index-wL3GxAOQ.js";import"./ButtonBase-64dw5Lm_.js";import"./Close-a0dMVUhZ.js";import"./context-BLxVKTzt.js";const Ue=({title:e,titleId:r,...a})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":r,...a,children:[e?t.jsx("title",{id:r,children:e}):null,t.jsx("path",{d:"M5.85 15.3q-.563 0-.956-.394a1.3 1.3 0 0 1-.394-.956v-9h-.225a.65.65 0 0 1-.478-.197.65.65 0 0 1-.197-.478.65.65 0 0 1 .197-.478.65.65 0 0 1 .478-.197H7.2v-.225a.65.65 0 0 1 .197-.478.65.65 0 0 1 .478-.197h2.25a.65.65 0 0 1 .478.197.65.65 0 0 1 .197.478V3.6h2.925a.65.65 0 0 1 .478.197.65.65 0 0 1 .197.478.65.65 0 0 1-.197.478.65.65 0 0 1-.478.197H13.5v9q0 .563-.394.956a1.3 1.3 0 0 1-.956.394zM9 10.406l1.031 1.031a.62.62 0 0 0 .478.197.7.7 0 0 0 .479-.215.656.656 0 0 0 0-.957L9.956 9.45l1.032-1.031a.656.656 0 0 0 0-.956.656.656 0 0 0-.957 0L9 8.493l-1.031-1.03a.65.65 0 0 0-.469-.207.65.65 0 0 0-.469.207.656.656 0 0 0 0 .956L8.044 9.45l-1.032 1.031a.61.61 0 0 0-.196.469.68.68 0 0 0 .215.469.656.656 0 0 0 .956 0z"})]}),_e=({title:e,titleId:r,...a})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":r,...a,children:[e?t.jsx("title",{id:r,children:e}):null,t.jsx("path",{d:"M4.05 15.3a1.3 1.3 0 0 1-.953-.403 1.3 1.3 0 0 1-.397-.947v-9.9q0-.543.397-.947A1.3 1.3 0 0 1 4.05 2.7h9.9q.557 0 .953.403.397.404.397.947v9.9q0 .544-.397.947a1.3 1.3 0 0 1-.953.403zm1.575-2.7h6.754a.31.31 0 0 0 .296-.187.31.31 0 0 0-.038-.357l-2.024-2.7a.3.3 0 0 0-.263-.15.3.3 0 0 0-.262.15L8.325 11.7l-1.088-1.444a.3.3 0 0 0-.262-.15.3.3 0 0 0-.263.15l-1.346 1.8a.3.3 0 0 0-.036.357q.098.186.295.187"})]}),ze=({title:e,titleId:r,...a})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":r,...a,children:[e?t.jsx("title",{id:r,children:e}):null,t.jsx("g",{children:t.jsx("path",{d:"M4.945 14.4q-.558 0-.951-.397a1.3 1.3 0 0 1-.394-.953v-.675q0-.287.193-.481a.65.65 0 0 1 .478-.194q.285 0 .482.194.197.195.197.481v.675h8.1v-.675q0-.287.193-.481a.65.65 0 0 1 .478-.194q.284 0 .482.194.197.195.197.481v.675a1.3 1.3 0 0 1-.397.953 1.3 1.3 0 0 1-.954.397zM9.266 2.747a.7.7 0 0 0-.253-.047.68.68 0 0 0-.473.187L5.878 5.531a.67.67 0 0 0-.009.956q.215.207.49.216a.6.6 0 0 0 .475-.197l1.5-1.5v5.738q0 .287.197.48a.66.66 0 0 0 .482.195q.285 0 .478-.194a.66.66 0 0 0 .193-.481V5.006l1.481 1.5a.66.66 0 0 0 .478.206.71.71 0 0 0 .694-.685.62.62 0 0 0-.197-.477L9.478 2.887a.6.6 0 0 0-.212-.14"})})]}),q=new Map;function F(e,r){let a=q.get(e);if(!a){let s=new Set,f=p=>{for(let u of s)u(p)};a={listener:f,handlers:s},q.set(e,a),document.addEventListener(e,f)}return a.handlers.add(r),()=>{a.handlers.delete(r),a.handlers.size===0&&(document.removeEventListener(e,a.listener),q.delete(e))}}function Le(e){let{isDisabled:r}=e,a=b.useRef(!1),{focusProps:s}=xe({onFocusChange:o=>{a.current=o}}),f=I(o=>{a.current&&e.getItems&&o.preventDefault()}),p=I(o=>{if(!(!a.current||!e.getItems)&&(o.preventDefault(),o.clipboardData)){var d;G(o.clipboardData,e.getItems()),(d=e.onCopy)===null||d===void 0||d.call(e)}}),u=I(o=>{a.current&&e.onCut&&e.getItems&&o.preventDefault()}),c=I(o=>{!a.current||!e.onCut||!e.getItems||(o.preventDefault(),o.clipboardData&&(G(o.clipboardData,e.getItems()),e.onCut()))}),x=I(o=>{a.current&&e.onPaste&&o.preventDefault()}),m=I(o=>{if(!(!a.current||!e.onPaste)&&(o.preventDefault(),o.clipboardData)){let d=Ie(o.clipboardData);e.onPaste(d)}});return b.useEffect(()=>{if(!r)return $e(F("beforecopy",f),F("copy",p),F("beforecut",u),F("cut",c),F("beforepaste",x),F("paste",m))},[r,f,p,u,c,x,m]),{clipboardProps:s}}function Ze(e){return e&&e.__esModule?e.default:e}const Ve=b.createContext(null);function Oe(e,r){let{isDisabled:a=!1}=e;[e,r]=ge(e,r,Ve);let s=ne(r),f=b.useRef(null),{dropProps:p,dropButtonProps:u,isDropTarget:c}=Fe({...e,ref:f,hasDropButton:!0}),{buttonProps:x}=Se(u||{},f),{hoverProps:m,isHovered:o}=ve(e),{focusProps:d,isFocused:i,isFocusVisible:$}=he(),j=Me(Ze(we),"react-aria-components"),g=ye(),E=e["aria-label"]||j.format("dropzoneLabel"),n=e["aria-labelledby"],P=[g,n].filter(Boolean).join(" "),l=Ee({"aria-label":E,"aria-labelledby":P}),{clipboardProps:h}=Le({isDisabled:a,onPaste:T=>{var v;return(v=e.onDrop)===null||v===void 0?void 0:v.call(e,{type:"drop",items:T,x:0,y:0,dropOperation:"copy"})}}),N=De({...e,values:{isHovered:o,isFocused:i,isFocusVisible:$,isDropTarget:c,isDisabled:a},defaultClassName:"react-aria-DropZone"}),B=ce(e);return delete B.id,w.createElement(je,{values:[[Be,{id:g,slot:"label"}]]},w.createElement("div",{...Y(p,m,B),...N,slot:e.slot||void 0,ref:s,onClick:T=>{var v;let y=T.target;for(;y&&(!((v=s.current)===null||v===void 0)&&v.contains(y))&&!Ne(y);){if(y===s.current){var D;(D=f.current)===null||D===void 0||D.focus();break}y=y.parentElement}},"data-hovered":o||void 0,"data-focused":i||void 0,"data-focus-visible":$||void 0,"data-drop-target":c||void 0,"data-disabled":a||void 0},w.createElement(Te,null,w.createElement("button",{...Y(x,d,h,l),ref:f})),N.children))}const Ae=b.forwardRef(Oe);function Ye(e,r){let{onSelect:a,acceptedFileTypes:s,allowsMultiple:f,defaultCamera:p,children:u,acceptDirectory:c,...x}=e,m=ne(r),o=ce(x);return w.createElement(w.Fragment,null,w.createElement(ke,{onPress:()=>{var d,i;!((d=m.current)===null||d===void 0)&&d.value&&(m.current.value=""),(i=m.current)===null||i===void 0||i.click()}},u),w.createElement(de,{...o,type:"file",ref:m,style:{display:"none"},accept:s==null?void 0:s.toString(),onChange:d=>a==null?void 0:a(d.target.files),capture:p,multiple:f,webkitdirectory:c?"":void 0}))}const Ge=b.forwardRef(Ye);/**
 * filesize
 *
 * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.6
 */const Ke="array",He="bit",K="bits",Je="byte",H="bytes",S="",We="exponent",Xe="function",J="iec",Qe="Invalid number",et="Invalid rounding method",C="jedec",tt="object",W=".",rt="round",at="s",ot="si",lt="kbit",it="kB",st=" ",nt="string",ct="0",U={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function dt(e,{bits:r=!1,pad:a=!1,base:s=-1,round:f=2,locale:p=S,localeOptions:u={},separator:c=S,spacer:x=st,symbols:m={},standard:o=S,output:d=nt,fullform:i=!1,fullforms:$=[],exponent:j=-1,roundingMethod:g=rt,precision:E=0}={}){let n=j,P=Number(e),l=[],h=0,N=S;o===ot?(s=10,o=C):o===J||o===C?s=2:s===2?o=J:(s=10,o=C);const B=s===10?1e3:1024,T=i===!0,v=P<0,y=Math[g];if(typeof e!="bigint"&&isNaN(e))throw new TypeError(Qe);if(typeof y!==Xe)throw new TypeError(et);if(v&&(P=-P),(n===-1||isNaN(n))&&(n=Math.floor(Math.log(P)/Math.log(B)),n<0&&(n=0)),n>8&&(E>0&&(E+=8-n),n=8),d===We)return n;if(P===0)l[0]=0,N=l[1]=U.symbol[o][r?K:H][n];else{h=P/(s===2?Math.pow(2,n*10):Math.pow(1e3,n)),r&&(h=h*8,h>=B&&n<8&&(h=h/B,n++));const D=Math.pow(10,n>0?f:0);l[0]=y(h*D)/D,l[0]===B&&n<8&&j===-1&&(l[0]=1,n++),N=l[1]=s===10&&n===1?r?lt:it:U.symbol[o][r?K:H][n]}if(v&&(l[0]=-l[0]),E>0&&(l[0]=l[0].toPrecision(E)),l[1]=m[l[1]]||l[1],p===!0?l[0]=l[0].toLocaleString():p.length>0?l[0]=l[0].toLocaleString(p,u):c.length>0&&(l[0]=l[0].toString().replace(W,c)),a&&f>0){const D=l[0].toString(),Z=c||(D.match(/(\D)/g)||[]).pop()||W,V=D.toString().split(Z),O=V[1]||S,A=O.length,me=f-A;l[0]=`${V[0]}${Z}${O.padEnd(A+me,ct)}`}return T&&(l[1]=$[n]?$[n]:U.fullform[o][n]+(r?He:Je)+(l[0]===1?S:at)),d===Ke?l:d===tt?{value:l[0],symbol:l[1],exponent:n,unit:N}:l.join(x)}const ft=({onFilesChange:e,description:r,label:a,file:s,className:f})=>{const{t:p}=ue("components"),[u,c]=b.useState(s),x=b.useRef(null);b.useEffect(()=>{c(s)},[s]);const m=b.useCallback(()=>{var d;(d=x.current)==null||d.click()},[]),o=b.useCallback(d=>{var $;const i=($=d.target.files)==null?void 0:$[0];i&&(c(i),e==null||e(i))},[e]);return t.jsxs(t.Fragment,{children:[a&&t.jsx(fe,{className:_("text-sm font-medium leading-none text-neutral-800","group-data-[disabled]:cursor-not-allowed group-data-[disabled]:opacity-70","group-data-[invalid]:text-error-hover"),children:a}),t.jsxs("div",{className:"flex space-x-2.5",children:[t.jsx(Ce,{prefix:t.jsx(ze,{}),value:u==null?void 0:u.name,placeholder:p("Upload.placeholder","Choose file"),isReadOnly:!0,className:f}),t.jsx(de,{ref:x,type:"file","aria-label":"Upload File",className:"hidden",onChange:o}),t.jsx(pe,{onPress:m,variant:"secondary",children:p("Upload.pickFile","Pick file")})]}),r&&t.jsxs("div",{className:"flex gap-1 items-center text-sm text-neutral-600",children:[t.jsx(se,{}),t.jsx(z,{slot:"description",children:r})]})]})},pt=({className:e,onFilesChange:r,description:a,label:s,files:f,...p})=>{const{t:u}=ue("components"),[c,x]=b.useState(f);b.useEffect(()=>{x(f)},[f]);const m=b.useCallback(i=>{if(!i)return;const $=[...c??[],...i];r==null||r($),x($)},[c,r]),o=b.useCallback(i=>{(async()=>{const j=(await Promise.all(i.items.filter(g=>g.kind==="file").map(g=>g.getFile()))).filter(g=>g!==null);m(j)})()},[m]),d=b.useCallback(i=>{const $=c==null?void 0:c.filter(j=>j!==i);x($),r==null||r($??[])},[c,r]);return t.jsxs("div",{className:"space-y-2.5",children:[t.jsxs("div",{className:"space-y-1",children:[s&&t.jsx(fe,{className:_("text-sm font-medium leading-none text-neutral-800","group-data-[disabled]:cursor-not-allowed group-data-[disabled]:opacity-70","group-data-[invalid]:text-error-hover"),children:s}),t.jsx(Ae,{onDrop:o,className:Pe(e,i=>_("flex px-2.5 py-5 w-full flex-col items-center justify-center gap-2 rounded-sm border border-dashed border-primary dark:border-neutral-850 text-sm ring-offset-background","data-[drop-target]:border-primary data-[drop-target]:bg-neutral-200","data-[focus-visible]:outline-none data-[focus-visible]:ring-2 data-[focus-visible]:ring-ring data-[focus-visible]:ring-offset-2",i)),...p,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ge,{allowsMultiple:!0,onSelect:m,children:t.jsx(pe,{variant:"ghost",className:" h-6 p-1 dark:text-brand-secondary",children:u("Upload.pickFile","Pick file")})}),t.jsx(z,{className:"mr-2",children:u("Upload.dropzonePlaceholder","or drag it here")})]})}),a&&t.jsxs("div",{className:"flex gap-1 items-center text-sm text-neutral-600",children:[t.jsx(se,{}),t.jsx(z,{slot:"description",children:a})]})]}),t.jsx("div",{children:c==null?void 0:c.map(i=>t.jsxs("div",{className:"flex items-center gap-1.5 text-primary",children:[i.type.includes("image")?t.jsx(_e,{}):t.jsx(be,{}),i.name,t.jsx(qe,{children:dt(i.size,{round:0})}),t.jsx(Re,{variant:"delete",onPress:()=>d(i),children:t.jsx(Ue,{})})]},`${i.name}_${i.lastModified}`))})]})},L=({errorMessage:e,isDropZone:r=!1,...a})=>t.jsxs("div",{className:"space-y-1",children:[r?t.jsx(pt,{...a}):t.jsx(ft,{...a}),e&&t.jsx("p",{className:"text-sm text-error-foreground",children:e})]});try{L.displayName="Upload",L.__docgenInfo={description:"Upload component available as single file input or file dropzone\n\nbased on `react-aria-components`",displayName:"Upload",props:{files:{defaultValue:null,description:"current value (controlled)",name:"files",required:!1,type:{name:"File[]"}},isDropZone:{defaultValue:{value:"false"},description:"optionally render DropZone instead of FileInput",name:"isDropZone",required:!1,type:{name:"boolean"}},errorMessage:{defaultValue:null,description:"error message to be displayed",name:"errorMessage",required:!1,type:{name:"string"}},onFilesChange:{defaultValue:null,description:"callback to handle file selection",name:"onFilesChange",required:!1,type:{name:"((files: File | File[]) => void)"}},label:{defaultValue:null,description:"label for the file input/dropzone",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"description for the input/dropzone",name:"description",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"CSS classname for the component",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Wt={component:L},M={args:{description:"Upload a file",label:"Upload"}},k={args:{...M.args,isDropZone:!0}},R={args:{...M.args,isDropZone:!0,files:[new File(["content"],"file1.txt",{type:"text/plain"}),new File(["content"],"file2.txt",{type:"text/plain"})]}};var X,Q,ee;M.parameters={...M.parameters,docs:{...(X=M.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    description: "Upload a file",
    label: "Upload"
  }
}`,...(ee=(Q=M.parameters)==null?void 0:Q.docs)==null?void 0:ee.source}}};var te,re,ae;k.parameters={...k.parameters,docs:{...(te=k.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    isDropZone: true
  }
}`,...(ae=(re=k.parameters)==null?void 0:re.docs)==null?void 0:ae.source}}};var oe,le,ie;R.parameters={...R.parameters,docs:{...(oe=R.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    isDropZone: true,
    files: [new File(["content"], "file1.txt", {
      type: "text/plain"
    }), new File(["content"], "file2.txt", {
      type: "text/plain"
    })]
  }
}`,...(ie=(le=R.parameters)==null?void 0:le.docs)==null?void 0:ie.source}}};const Xt=["Default","DragAndDrop","DragAndDropWithPreloadedFiles"];export{M as Default,k as DragAndDrop,R as DragAndDropWithPreloadedFiles,Xt as __namedExportsOrder,Wt as default};
