import{b as bt}from"./Button-B8-bwU7B.js";import{g as se,n as gt,h as K,f as xt,e as Ee,C as te,c as we,$ as ht,r as Et,o as ce,p as le,i as ne,l as ie,A as wt,B as yt,w as ye,G as de}from"./useFocusRing-DmDxhQCI.js";import{a as Pt}from"./RSPContexts-BlCrYygD.js";import{r as m,R as w}from"./index-DRjF_FHU.js";import{a as Ct,$ as St}from"./PressResponder-DV9psGSD.js";import{$ as Ot}from"./useControlledState-uSQY0H5C.js";import{a as Rt}from"./PortalProvider-DG1WN5c3.js";import{c as Tt,b as Lt}from"./FocusScope-BD8VaRNk.js";import{F as Dt}from"./index-rX-Bn4lm.js";import{b as It}from"./Hidden-CICGlFC4.js";import{$ as Ht}from"./ariaHideOutside-7Z-f0sYi.js";import{b as Mt,e as At}from"./platform-SeyP_Zfo.js";import{$ as zt}from"./context-C5A1kbiU.js";import{$ as Pe}from"./getScrollParent-BL0kfGii.js";import{$ as _t}from"./useLabels-DHGrCtKF.js";import{$ as kt}from"./useLocalizedStringFormatter-DDHaVjp6.js";import{$ as Bt}from"./VisuallyHidden-BC8uHK73.js";function Ft(){return typeof window.ResizeObserver<"u"}function ue(e){const{ref:t,box:r,onResize:o}=e;m.useEffect(()=>{let l=t==null?void 0:t.current;if(l)if(Ft()){const n=new window.ResizeObserver(s=>{s.length&&o()});return n.observe(l,{box:r}),()=>{l&&n.unobserve(l)}}else return window.addEventListener("resize",o,!1),()=>{window.removeEventListener("resize",o,!1)}},[o,t,r])}function oe(e,t=-1/0,r=1/0){return Math.min(Math.max(e,t),r)}function Nt(e){let{ref:t,onInteractOutside:r,isDisabled:o,onInteractOutsideStart:l}=e,n=m.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),s=se(u=>{r&&j(u,t)&&(l&&l(u),n.current.isPointerDown=!0)}),i=se(u=>{r&&r(u)});m.useEffect(()=>{let u=n.current;if(o)return;const c=t.current,a=gt(c);if(typeof PointerEvent<"u"){let f=$=>{u.isPointerDown&&j($,t)&&i($),u.isPointerDown=!1};return a.addEventListener("pointerdown",s,!0),a.addEventListener("pointerup",f,!0),()=>{a.removeEventListener("pointerdown",s,!0),a.removeEventListener("pointerup",f,!0)}}else{let f=p=>{u.ignoreEmulatedMouseEvents?u.ignoreEmulatedMouseEvents=!1:u.isPointerDown&&j(p,t)&&i(p),u.isPointerDown=!1},$=p=>{u.ignoreEmulatedMouseEvents=!0,u.isPointerDown&&j(p,t)&&i(p),u.isPointerDown=!1};return a.addEventListener("mousedown",s,!0),a.addEventListener("mouseup",f,!0),a.addEventListener("touchstart",s,!0),a.addEventListener("touchend",$,!0),()=>{a.removeEventListener("mousedown",s,!0),a.removeEventListener("mouseup",f,!0),a.removeEventListener("touchstart",s,!0),a.removeEventListener("touchend",$,!0)}}},[t,o,s,i])}function j(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}const z={top:"top",bottom:"top",left:"left",right:"left"},G={top:"bottom",bottom:"top",left:"right",right:"left"},Kt={top:"left",left:"top"},re={top:"height",left:"width"},Ce={width:"totalWidth",height:"totalHeight"},X={};let C=typeof document<"u"?window.visualViewport:null;function fe(e){let t=0,r=0,o=0,l=0,n=0,s=0,i={};var u;let c=((u=C==null?void 0:C.scale)!==null&&u!==void 0?u:1)>1;if(e.tagName==="BODY"){let d=document.documentElement;o=d.clientWidth,l=d.clientHeight;var a;t=(a=C==null?void 0:C.width)!==null&&a!==void 0?a:o;var f;r=(f=C==null?void 0:C.height)!==null&&f!==void 0?f:l,i.top=d.scrollTop||e.scrollTop,i.left=d.scrollLeft||e.scrollLeft,C&&(n=C.offsetTop,s=C.offsetLeft)}else({width:t,height:r,top:n,left:s}=U(e)),i.top=e.scrollTop,i.left=e.scrollLeft,o=t,l=r;if(Mt()&&(e.tagName==="BODY"||e.tagName==="HTML")&&c){i.top=0,i.left=0;var $;n=($=C==null?void 0:C.pageTop)!==null&&$!==void 0?$:0;var p;s=(p=C==null?void 0:C.pageLeft)!==null&&p!==void 0?p:0}return{width:t,height:r,totalWidth:o,totalHeight:l,scroll:i,top:n,left:s}}function Wt(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function pe(e,t,r,o,l,n,s){var i;let u=(i=l.scroll[e])!==null&&i!==void 0?i:0,c=o[re[e]],a=o.scroll[z[e]]+n,f=c+o.scroll[z[e]]-n,$=t-u+s[e]-o[z[e]],p=t-u+r+s[e]-o[z[e]];return $<a?a-$:p>f?Math.max(f-p,a-$):0}function Ut(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function $e(e){if(X[e])return X[e];let[t,r]=e.split(" "),o=z[t]||"right",l=Kt[o];z[r]||(r="center");let n=re[o],s=re[l];return X[e]={placement:t,crossPlacement:r,axis:o,crossAxis:l,size:n,crossSize:s},X[e]}function J(e,t,r,o,l,n,s,i,u,c){let{placement:a,crossPlacement:f,axis:$,crossAxis:p,size:d,crossSize:x}=o,v={};var b;v[p]=(b=e[p])!==null&&b!==void 0?b:0;var g,P,T,S;f==="center"?v[p]+=(((g=e[x])!==null&&g!==void 0?g:0)-((P=r[x])!==null&&P!==void 0?P:0))/2:f!==p&&(v[p]+=((T=e[x])!==null&&T!==void 0?T:0)-((S=r[x])!==null&&S!==void 0?S:0)),v[p]+=n;const h=e[p]-r[x]+u+c,H=e[p]+e[x]-u-c;if(v[p]=oe(v[p],h,H),a===$){const M=i?s[d]:t[Ce[d]];v[G[$]]=Math.floor(M-e[$]+l)}else v[$]=Math.floor(e[$]+e[d]+l);return v}function Yt(e,t,r,o,l,n,s,i){const u=o?r.height:t[Ce.height];var c;let a=e.top!=null?r.top+e.top:r.top+(u-((c=e.bottom)!==null&&c!==void 0?c:0)-s);var f,$,p,d,x,v;let b=i!=="top"?Math.max(0,t.height+t.top+((f=t.scroll.top)!==null&&f!==void 0?f:0)-a-((($=l.top)!==null&&$!==void 0?$:0)+((p=l.bottom)!==null&&p!==void 0?p:0)+n)):Math.max(0,a+s-(t.top+((d=t.scroll.top)!==null&&d!==void 0?d:0))-(((x=l.top)!==null&&x!==void 0?x:0)+((v=l.bottom)!==null&&v!==void 0?v:0)+n));return Math.min(t.height-n*2,b)}function me(e,t,r,o,l,n){let{placement:s,axis:i,size:u}=n;var c,a;if(s===i)return Math.max(0,r[i]-e[i]-((c=e.scroll[i])!==null&&c!==void 0?c:0)+t[i]-((a=o[i])!==null&&a!==void 0?a:0)-o[G[i]]-l);var f;return Math.max(0,e[u]+e[i]+e.scroll[i]-t[i]-r[i]-r[u]-((f=o[i])!==null&&f!==void 0?f:0)-o[G[i]]-l)}function jt(e,t,r,o,l,n,s,i,u,c,a,f,$,p,d,x){let v=$e(e),{size:b,crossAxis:g,crossSize:P,placement:T,crossPlacement:S}=v,h=J(t,i,r,v,a,f,c,$,d,x),H=a,M=me(i,c,t,l,n+a,v);if(s&&o[b]>M){let V=$e(`${G[T]} ${S}`),vt=J(t,i,r,V,a,f,c,$,d,x);me(i,c,t,l,n+a,V)>M&&(v=V,h=vt,H=a)}let D="bottom";v.axis==="top"?v.placement==="top"?D="top":v.placement==="bottom"&&(D="bottom"):v.crossAxis==="top"&&(v.crossPlacement==="top"?D="bottom":v.crossPlacement==="bottom"&&(D="top"));let y=pe(g,h[g],r[P],i,u,n,c);h[g]+=y;let R=Yt(h,i,c,$,l,n,r.height,D);p&&p<R&&(R=p),r.height=Math.min(r.height,R),h=J(t,i,r,v,H,f,c,$,d,x),y=pe(g,h[g],r[P],i,u,n,c),h[g]+=y;let L={},k=t[g]+.5*t[P]-h[g]-l[z[g]];const I=d/2+x;var B,F,A,O;const N=z[g]==="left"?((B=l.left)!==null&&B!==void 0?B:0)+((F=l.right)!==null&&F!==void 0?F:0):((A=l.top)!==null&&A!==void 0?A:0)+((O=l.bottom)!==null&&O!==void 0?O:0),q=r[P]-N-d/2-x,pt=t[g]+d/2-(h[g]+l[z[g]]),$t=t[g]+t[P]-d/2-(h[g]+l[z[g]]),mt=oe(k,pt,$t);return L[g]=oe(mt,I,q),{position:h,maxHeight:R,arrowOffsetLeft:L.left,arrowOffsetTop:L.top,placement:v.placement}}function Xt(e){let{placement:t,targetNode:r,overlayNode:o,scrollNode:l,padding:n,shouldFlip:s,boundaryElement:i,offset:u,crossOffset:c,maxHeight:a,arrowSize:f=0,arrowBoundaryOffset:$=0}=e,p=o instanceof HTMLElement?Zt(o):document.documentElement,d=p===document.documentElement;const x=window.getComputedStyle(p).position;let v=!!x&&x!=="static",b=d?U(r):ve(r,p);if(!d){let{marginTop:L,marginLeft:k}=window.getComputedStyle(r);b.top+=parseInt(L,10)||0,b.left+=parseInt(k,10)||0}let g=U(o),P=Ut(o);var T,S;g.width+=((T=P.left)!==null&&T!==void 0?T:0)+((S=P.right)!==null&&S!==void 0?S:0);var h,H;g.height+=((h=P.top)!==null&&h!==void 0?h:0)+((H=P.bottom)!==null&&H!==void 0?H:0);let M=Wt(l),D=fe(i),y=fe(p),R=i.tagName==="BODY"?U(p):ve(p,i);return p.tagName==="HTML"&&i.tagName==="BODY"&&(y.scroll.top=0,y.scroll.left=0),jt(t,b,g,M,P,n,s,D,y,R,u,c,v,a,f,$)}function U(e){let{top:t,left:r,width:o,height:l}=e.getBoundingClientRect(),{scrollTop:n,scrollLeft:s,clientTop:i,clientLeft:u}=document.documentElement;return{top:t+n-i,left:r+s-u,width:o,height:l}}function ve(e,t){let r=window.getComputedStyle(e),o;if(r.position==="fixed"){let{top:l,left:n,width:s,height:i}=e.getBoundingClientRect();o={top:l,left:n,width:s,height:i}}else{o=U(e);let l=U(t),n=window.getComputedStyle(t);l.top+=(parseInt(n.borderTopWidth,10)||0)-t.scrollTop,l.left+=(parseInt(n.borderLeftWidth,10)||0)-t.scrollLeft,o.top-=l.top,o.left-=l.left}return o.top-=parseInt(r.marginTop,10)||0,o.left-=parseInt(r.marginLeft,10)||0,o}function Zt(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!be(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!be(t);)t=t.parentElement;return t||document.documentElement}function be(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const Se=new WeakMap;function Gt(e){let{triggerRef:t,isOpen:r,onClose:o}=e;m.useEffect(()=>{if(!r||o===null)return;let l=n=>{let s=n.target;if(!t.current||s instanceof Node&&!s.contains(t.current)||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement)return;let i=o||Se.get(t.current);i&&i()};return window.addEventListener("scroll",l,!0),()=>{window.removeEventListener("scroll",l,!0)}},[r,o,t])}let E=typeof document<"u"?window.visualViewport:null;function qt(e){let{direction:t}=zt(),{arrowSize:r=0,targetRef:o,overlayRef:l,scrollRef:n=l,placement:s="bottom",containerPadding:i=12,shouldFlip:u=!0,boundaryElement:c=typeof document<"u"?document.body:null,offset:a=0,crossOffset:f=0,shouldUpdatePosition:$=!0,isOpen:p=!0,onClose:d,maxHeight:x,arrowBoundaryOffset:v=0}=e,[b,g]=m.useState(null),P=[$,s,l.current,o.current,n.current,i,u,c,a,f,p,t,x,v,r],T=m.useRef(E==null?void 0:E.scale);m.useEffect(()=>{p&&(T.current=E==null?void 0:E.scale)},[p]);let S=m.useCallback(()=>{if($===!1||!p||!l.current||!o.current||!c||(E==null?void 0:E.scale)!==T.current)return;let y=null;if(n.current&&n.current.contains(document.activeElement)){var R;let O=(R=document.activeElement)===null||R===void 0?void 0:R.getBoundingClientRect(),N=n.current.getBoundingClientRect();var L;if(y={type:"top",offset:((L=O==null?void 0:O.top)!==null&&L!==void 0?L:0)-N.top},y.offset>N.height/2){y.type="bottom";var k;y.offset=((k=O==null?void 0:O.bottom)!==null&&k!==void 0?k:0)-N.bottom}}let I=l.current;if(!x&&l.current){var B;I.style.top="0px",I.style.bottom="";var F;I.style.maxHeight=((F=(B=window.visualViewport)===null||B===void 0?void 0:B.height)!==null&&F!==void 0?F:window.innerHeight)+"px"}let A=Xt({placement:Jt(s,t),overlayNode:l.current,targetNode:o.current,scrollNode:n.current||l.current,padding:i,shouldFlip:u,boundaryElement:c,offset:a,crossOffset:f,maxHeight:x,arrowSize:r,arrowBoundaryOffset:v});if(A.position){if(I.style.top="",I.style.bottom="",I.style.left="",I.style.right="",Object.keys(A.position).forEach(O=>I.style[O]=A.position[O]+"px"),I.style.maxHeight=A.maxHeight!=null?A.maxHeight+"px":"",y&&document.activeElement&&n.current){let O=document.activeElement.getBoundingClientRect(),N=n.current.getBoundingClientRect(),q=O[y.type]-N[y.type];n.current.scrollTop+=q-y.offset}g(A)}},P);K(S,P),Vt(S),ue({ref:l,onResize:S}),ue({ref:o,onResize:S});let h=m.useRef(!1);K(()=>{let y,R=()=>{h.current=!0,clearTimeout(y),y=setTimeout(()=>{h.current=!1},500),S()},L=()=>{h.current&&R()};return E==null||E.addEventListener("resize",R),E==null||E.addEventListener("scroll",L),()=>{E==null||E.removeEventListener("resize",R),E==null||E.removeEventListener("scroll",L)}},[S]);let H=m.useCallback(()=>{h.current||d==null||d()},[d,h]);Gt({triggerRef:o,isOpen:p,onClose:d&&H});var M,D;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...b==null?void 0:b.position,maxHeight:(M=b==null?void 0:b.maxHeight)!==null&&M!==void 0?M:"100vh"}},placement:(D=b==null?void 0:b.placement)!==null&&D!==void 0?D:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:b==null?void 0:b.arrowOffsetLeft,top:b==null?void 0:b.arrowOffsetTop}},updatePosition:S}}function Vt(e){K(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function Jt(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const _=[];function Qt(e,t){let{onClose:r,shouldCloseOnBlur:o,isOpen:l,isDismissable:n=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:i}=e;m.useEffect(()=>(l&&_.push(t),()=>{let d=_.indexOf(t);d>=0&&_.splice(d,1)}),[l,t]);let u=()=>{_[_.length-1]===t&&r&&r()},c=d=>{(!i||i(d.target))&&_[_.length-1]===t&&(d.stopPropagation(),d.preventDefault())},a=d=>{(!i||i(d.target))&&(_[_.length-1]===t&&(d.stopPropagation(),d.preventDefault()),u())},f=d=>{d.key==="Escape"&&!s&&!d.nativeEvent.isComposing&&(d.stopPropagation(),d.preventDefault(),u())};Nt({ref:t,onInteractOutside:n&&l?a:void 0,onInteractOutsideStart:c});let{focusWithinProps:$}=xt({isDisabled:!o,onBlurWithin:d=>{!d.relatedTarget||Tt(d.relatedTarget)||(!i||i(d.relatedTarget))&&(r==null||r())}}),p=d=>{d.target===d.currentTarget&&d.preventDefault()};return{overlayProps:{onKeyDown:f,...$},underlayProps:{onPointerDown:p}}}function eo(e,t,r){let{type:o}=e,{isOpen:l}=t;m.useEffect(()=>{r&&r.current&&Se.set(r.current,t.close)});let n;o==="menu"?n=!0:o==="listbox"&&(n="listbox");let s=Ee();return{triggerProps:{"aria-haspopup":n,"aria-expanded":l,"aria-controls":l?s:void 0,onPress:t.toggle},overlayProps:{id:s}}}const Q=typeof document<"u"&&window.visualViewport,to=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Z=0,ee;function oo(e={}){let{isDisabled:t}=e;K(()=>{if(!t)return Z++,Z===1&&(At()?ee=lo():ee=ro()),()=>{Z--,Z===0&&ee()}},[t])}function ro(){return te(W(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),W(document.documentElement,"overflow","hidden"))}function lo(){let e,t,r=c=>{e=Pe(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=W(e,"overscrollBehavior","contain"))},o=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},l=c=>{let a=c.target;xe(a)&&a!==document.activeElement&&(c.preventDefault(),i(),a.style.transform="translateY(-2000px)",a.focus(),requestAnimationFrame(()=>{a.style.transform=""})),t&&t()},n=c=>{let a=c.target;xe(a)&&(i(),a.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{a.style.transform="",Q&&(Q.height<window.innerHeight?requestAnimationFrame(()=>{ge(a)}):Q.addEventListener("resize",()=>ge(a),{once:!0}))}))},s=null,i=()=>{if(s)return;let c=()=>{window.scrollTo(0,0)},a=window.pageXOffset,f=window.pageYOffset;s=te(Y(window,"scroll",c),W(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),W(document.documentElement,"overflow","hidden"),W(document.body,"marginTop",`-${f}px`),()=>{window.scrollTo(a,f)}),window.scrollTo(0,0)},u=te(Y(document,"touchstart",r,{passive:!1,capture:!0}),Y(document,"touchmove",o,{passive:!1,capture:!0}),Y(document,"touchend",l,{passive:!1,capture:!0}),Y(document,"focus",n,!0));return()=>{t==null||t(),s==null||s(),u()}}function W(e,t,r){let o=e.style[t];return e.style[t]=r,()=>{e.style[t]=o}}function Y(e,t,r,o){return e.addEventListener(t,r,o),()=>{e.removeEventListener(t,r,o)}}function ge(e){let t=document.scrollingElement||document.documentElement,r=e;for(;r&&r!==t;){let o=Pe(r);if(o!==document.documentElement&&o!==document.body&&o!==r){let l=o.getBoundingClientRect().top,n=r.getBoundingClientRect().top;n>l+r.clientHeight&&(o.scrollTop+=n-l)}r=o.parentElement}}function xe(e){return e instanceof HTMLInputElement&&!to.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var Oe={};Oe={dismiss:"تجاهل"};var Re={};Re={dismiss:"Отхвърляне"};var Te={};Te={dismiss:"Odstranit"};var Le={};Le={dismiss:"Luk"};var De={};De={dismiss:"Schließen"};var Ie={};Ie={dismiss:"Απόρριψη"};var He={};He={dismiss:"Dismiss"};var Me={};Me={dismiss:"Descartar"};var Ae={};Ae={dismiss:"Lõpeta"};var ze={};ze={dismiss:"Hylkää"};var _e={};_e={dismiss:"Rejeter"};var ke={};ke={dismiss:"התעלם"};var Be={};Be={dismiss:"Odbaci"};var Fe={};Fe={dismiss:"Elutasítás"};var Ne={};Ne={dismiss:"Ignora"};var Ke={};Ke={dismiss:"閉じる"};var We={};We={dismiss:"무시"};var Ue={};Ue={dismiss:"Atmesti"};var Ye={};Ye={dismiss:"Nerādīt"};var je={};je={dismiss:"Lukk"};var Xe={};Xe={dismiss:"Negeren"};var Ze={};Ze={dismiss:"Zignoruj"};var Ge={};Ge={dismiss:"Descartar"};var qe={};qe={dismiss:"Dispensar"};var Ve={};Ve={dismiss:"Revocare"};var Je={};Je={dismiss:"Пропустить"};var Qe={};Qe={dismiss:"Zrušiť"};var et={};et={dismiss:"Opusti"};var tt={};tt={dismiss:"Odbaci"};var ot={};ot={dismiss:"Avvisa"};var rt={};rt={dismiss:"Kapat"};var lt={};lt={dismiss:"Скасувати"};var nt={};nt={dismiss:"取消"};var it={};it={dismiss:"關閉"};var at={};at={"ar-AE":Oe,"bg-BG":Re,"cs-CZ":Te,"da-DK":Le,"de-DE":De,"el-GR":Ie,"en-US":He,"es-ES":Me,"et-EE":Ae,"fi-FI":ze,"fr-FR":_e,"he-IL":ke,"hr-HR":Be,"hu-HU":Fe,"it-IT":Ne,"ja-JP":Ke,"ko-KR":We,"lt-LT":Ue,"lv-LV":Ye,"nb-NO":je,"nl-NL":Xe,"pl-PL":Ze,"pt-BR":Ge,"pt-PT":qe,"ro-RO":Ve,"ru-RU":Je,"sk-SK":Qe,"sl-SI":et,"sr-SP":tt,"sv-SE":ot,"tr-TR":rt,"uk-UA":lt,"zh-CN":nt,"zh-TW":it};function no(e){return e&&e.__esModule?e.default:e}function he(e){let{onDismiss:t,...r}=e,o=kt(no(at),"@react-aria/overlays"),l=_t(r,o.format("dismiss")),n=()=>{t&&t()};return w.createElement(Bt,null,w.createElement("button",{...l,tabIndex:-1,onClick:n,style:{width:1,height:1}}))}function io(e,t){let{triggerRef:r,popoverRef:o,isNonModal:l,isKeyboardDismissDisabled:n,shouldCloseOnInteractOutside:s,...i}=e,{overlayProps:u,underlayProps:c}=Qt({isOpen:t.isOpen&&!i["data-react-aria-top-layer"],onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!l,isKeyboardDismissDisabled:n,shouldCloseOnInteractOutside:s},o),{overlayProps:a,arrowProps:f,placement:$}=qt({...i,targetRef:r,overlayRef:o,isOpen:t.isOpen,onClose:l?t.close:void 0});return oo({isDisabled:l||!t.isOpen}),K(()=>{if(t.isOpen&&!l&&o.current)return Ht([o.current])},[l,t.isOpen,o]),{popoverProps:we(u,a),arrowProps:f,underlayProps:c,placement:$}}const st=w.createContext(null);function ao(e){let t=ht(),{portalContainer:r=t?null:document.body,isExiting:o}=e,[l,n]=m.useState(!1),s=m.useMemo(()=>({contain:l,setContain:n}),[l,n]),{getContainer:i}=Rt();if(!e.portalContainer&&i&&(r=i()),!r)return null;let u=e.children;return e.disableFocusManagement||(u=w.createElement(Lt,{restoreFocus:!0,contain:l&&!o},u)),u=w.createElement(st.Provider,{value:s},w.createElement(Ct,null,u)),Dt.createPortal(u,r)}function so(){let e=m.useContext(st),t=e==null?void 0:e.setContain;K(()=>{t==null||t(!0)},[t])}function co(e,t){let{role:r="dialog"}=e,o=Et();o=e["aria-label"]?void 0:o;let l=m.useRef(!1);return m.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){ce(t.current);let n=setTimeout(()=>{document.activeElement===t.current&&(l.current=!0,t.current&&(t.current.blur(),ce(t.current)),l.current=!1)},500);return()=>{clearTimeout(n)}}},[t]),so(),{dialogProps:{...le(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||o,onBlur:n=>{l.current&&n.stopPropagation()}},titleProps:{id:o}}}function ct(e){let[t,r]=Ot(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const o=m.useCallback(()=>{r(!0)},[r]),l=m.useCallback(()=>{r(!1)},[r]),n=m.useCallback(()=>{r(!t)},[r,t]);return{isOpen:t,setOpen:r,open:o,close:l,toggle:n}}function uo(e){let t=ct(e),[r,o]=m.useState(null),[l,n]=m.useState([]),s=()=>{n([]),t.close()};return{focusStrategy:r,...t,open(c=null){o(c),t.open()},toggle(c=null){o(c),t.toggle()},close(){s()},expandedKeysStack:l,openSubmenu:(c,a)=>{n(f=>a>f.length?f:[...f.slice(0,a),c])},closeSubmenu:(c,a)=>{n(f=>f[a]===c?f.slice(0,a):f)}}}const dt=m.createContext({placement:"bottom"});function fo(e,t){[e,t]=ne(e,t,dt);let r=e.placement,o={position:"absolute",transform:r==="top"||r==="bottom"?"translateX(-50%)":"translateY(-50%)"};r!=null&&(o[r]="100%");let l=ie({...e,defaultClassName:"react-aria-OverlayArrow",values:{placement:r}});return l.style&&Object.keys(l.style).forEach(n=>l.style[n]===void 0&&delete l.style[n]),w.createElement("div",{...e,...l,style:{...o,...l.style},ref:t,"data-placement":r})}const Ao=m.forwardRef(fo),ut=m.createContext(null);function po(e,t){[e,t]=ne(e,t,ut);let r=m.useContext(ae),o=ct(e),l=e.isOpen!=null||e.defaultOpen!=null||!r?o:r,n=wt(t,l.isOpen)||e.isExiting||!1;if(It()){let i=e.children;return typeof i=="function"&&(i=i({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),w.createElement(w.Fragment,null,i)}return l&&!l.isOpen&&!n?null:w.createElement($o,{...e,triggerRef:e.triggerRef,state:l,popoverRef:t,isExiting:n})}const zo=m.forwardRef(po);function $o({state:e,isExiting:t,UNSTABLE_portalContainer:r,...o}){let l=m.useRef(null),[n,s]=m.useState(0);K(()=>{l.current&&e.isOpen&&s(l.current.getBoundingClientRect().width)},[e.isOpen,l]);var i;let{popoverProps:u,underlayProps:c,arrowProps:a,placement:f}=io({...o,offset:(i=o.offset)!==null&&i!==void 0?i:8,arrowSize:n},e),$=o.popoverRef,p=yt($,!!f)||o.isEntering||!1,d=ie({...o,defaultClassName:"react-aria-Popover",values:{trigger:o.trigger||null,placement:f,isEntering:p,isExiting:t}}),x={...u.style,...d.style};return w.createElement(ao,{...o,isExiting:t,portalContainer:r},!o.isNonModal&&e.isOpen&&w.createElement("div",{"data-testid":"underlay",...c,style:{position:"fixed",inset:0}}),w.createElement("div",{...we(le(o),u),...d,ref:$,slot:o.slot||void 0,style:x,"data-trigger":o.trigger,"data-placement":f,"data-entering":p||void 0,"data-exiting":t||void 0},!o.isNonModal&&w.createElement(he,{onDismiss:e.close}),w.createElement(dt.Provider,{value:{...a,placement:f,ref:l}},d.children),w.createElement(he,{onDismiss:e.close})))}const mo=m.createContext(null),ft=m.createContext(null),ae=m.createContext(null);function _o(e){let t=uo(e),r=m.useRef(null),{triggerProps:o,overlayProps:l}=eo({type:"dialog"},t,r);return o.id=Ee(),l["aria-labelledby"]=o.id,w.createElement(ye,{values:[[ae,t],[mo,t],[ft,l],[ut,{trigger:"DialogTrigger",triggerRef:r}]]},w.createElement(St,{...o,ref:r,isPressed:t.isOpen},e.children))}function vo(e,t){let r=e["aria-labelledby"];[e,t]=ne(e,t,ft);let{dialogProps:o,titleProps:l}=co({...e,"aria-labelledby":r},t),n=m.useContext(ae);!o["aria-label"]&&!o["aria-labelledby"]&&(e["aria-labelledby"]?o["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));let s=ie({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(n==null?void 0:n.close)||(()=>{})}});return w.createElement("section",{...le(e),...o,...s,ref:t,slot:e.slot||void 0},w.createElement(ye,{values:[[Pt,{slots:{[de]:{},title:{...l,level:2}}}],[bt,{slots:{[de]:{},close:{onPress:()=>n==null?void 0:n.close()}}}]]},s.children))}const ko=m.forwardRef(vo);export{zo as $,Ao as a,ko as b,_o as c,ct as d,qt as e,dt as f,Qt as g,oo as h,so as i,ae as j,ao as k,he as l,ue as m,ut as n,eo as o};
