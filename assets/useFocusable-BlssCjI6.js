import{q as i,c as f,o as b,d as l}from"./useFocusRing-CTUx4aJi.js";import{r as a,R as $}from"./index-DRjF_FHU.js";function u(e){if(!e)return;let t=!0;return o=>{let r={...o,preventDefault(){o.preventDefault()},isDefaultPrevented(){return o.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(r),t&&o.stopPropagation()}}function p(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:u(e.onKeyDown),onKeyUp:u(e.onKeyUp)}}}let P=$.createContext(null);function x(e){let t=a.useContext(P)||{};l(t,e);let{ref:o,...r}=t;return r}function y(e,t){let{focusProps:o}=i(e),{keyboardProps:r}=p(e),c=f(o,r),s=x(t),d=e.isDisabled?{}:s,n=a.useRef(e.autoFocus);return a.useEffect(()=>{n.current&&t.current&&b(t.current),n.current=!1},[t]),{focusableProps:f({...c,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},d)}}export{y as $,p as a};
