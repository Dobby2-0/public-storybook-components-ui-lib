import{j as i}from"./jsx-runtime-DR9Q75dM.js";import{I}from"./IconButton-CY8QpeBn.js";import{L as $}from"./Loader-Cgl1KvpE.js";import{P as C}from"./Pill-ByEbGEhU.js";import{c as Z}from"./index-By-mRCMU.js";import{o as F}from"./Description-BZTUmzGN.js";import{n as J}from"./index.browser-OxPLOBIU.js";import{r as f}from"./index-DRjF_FHU.js";import{u as H}from"./index-BSPp2CQF.js";import{u as X}from"./useTranslation-BZwSnrkG.js";const Q=({title:t,titleId:e,...o})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":e,...o,children:[t?i.jsx("title",{id:e,children:t}):null,i.jsx("path",{d:"M5.85 15.3q-.563 0-.956-.394a1.3 1.3 0 0 1-.394-.956v-9h-.225a.65.65 0 0 1-.478-.197.65.65 0 0 1-.197-.478.65.65 0 0 1 .197-.478.65.65 0 0 1 .478-.197H7.2v-.225a.65.65 0 0 1 .197-.478.65.65 0 0 1 .478-.197h2.25a.65.65 0 0 1 .478.197.65.65 0 0 1 .197.478V3.6h2.925a.65.65 0 0 1 .478.197.65.65 0 0 1 .197.478.65.65 0 0 1-.197.478.65.65 0 0 1-.478.197H13.5v9q0 .563-.394.956a1.3 1.3 0 0 1-.956.394zM9 10.406l1.031 1.031a.62.62 0 0 0 .478.197.7.7 0 0 0 .479-.215.656.656 0 0 0 0-.957L9.956 9.45l1.032-1.031a.656.656 0 0 0 0-.956.656.656 0 0 0-.957 0L9 8.493l-1.031-1.03a.65.65 0 0 0-.469-.207.65.65 0 0 0-.469.207.656.656 0 0 0 0 .956L8.044 9.45l-1.032 1.031a.61.61 0 0 0-.196.469.68.68 0 0 0 .215.469.656.656 0 0 0 .956 0z"})]}),W=({title:t,titleId:e,...o})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":e,...o,children:[t?i.jsx("title",{id:e,children:t}):null,i.jsx("path",{d:"M8.996 11.419a.7.7 0 0 1-.253-.047.6.6 0 0 1-.212-.14L5.87 8.568a.62.62 0 0 1-.197-.477.71.71 0 0 1 .694-.686q.27 0 .478.207l1.481 1.5V3.375q0-.287.193-.48a.65.65 0 0 1 .478-.195q.284 0 .482.194.197.195.197.481v5.738l1.5-1.5a.6.6 0 0 1 .475-.197.73.73 0 0 1 .49.215.67.67 0 0 1-.009.957L9.47 11.23a.68.68 0 0 1-.473.188M4.945 14.4q-.558 0-.951-.397a1.3 1.3 0 0 1-.394-.953v-.675q0-.287.193-.48a.65.65 0 0 1 .478-.195q.285 0 .482.194.197.195.197.481v.675h8.1v-.675q0-.287.193-.48a.65.65 0 0 1 .478-.195q.284 0 .482.194.197.195.197.481v.675a1.3 1.3 0 0 1-.397.953 1.3 1.3 0 0 1-.954.397z"})]}),tt=({title:t,titleId:e,...o})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":e,...o,children:[t?i.jsx("title",{id:e,children:t}):null,i.jsx("path",{d:"M4.05 15.3a1.3 1.3 0 0 1-.953-.403 1.3 1.3 0 0 1-.397-.947v-9.9q0-.543.397-.947A1.3 1.3 0 0 1 4.05 2.7h9.9q.557 0 .953.403.397.404.397.947v9.9q0 .544-.397.947a1.3 1.3 0 0 1-.953.403zm1.575-2.7h6.754a.31.31 0 0 0 .296-.187.31.31 0 0 0-.038-.357l-2.024-2.7a.3.3 0 0 0-.263-.15.3.3 0 0 0-.262.15L8.325 11.7l-1.088-1.444a.3.3 0 0 0-.262-.15.3.3 0 0 0-.263.15l-1.346 1.8a.3.3 0 0 0-.036.357q.098.186.295.187"})]}),et=({title:t,titleId:e,...o})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":e,...o,children:[t?i.jsx("title",{id:e,children:t}):null,i.jsx("path",{d:"M14 2H3.5A1.5 1.5 0 0 0 2 3.5V14a1.5 1.5 0 0 0 1.5 1.5H14c.825 0 1.5-.675 1.5-1.5V3.5A1.5 1.5 0 0 0 14 2m0 12H3.5V5H14zM9.875 9.5c0 .623-.502 1.125-1.125 1.125A1.123 1.123 0 0 1 7.625 9.5c0-.623.502-1.125 1.125-1.125s1.125.502 1.125 1.125m-1.125-3c-2.048 0-3.795 1.245-4.5 3 .705 1.755 2.452 3 4.5 3s3.795-1.245 4.5-3c-.705-1.755-2.453-3-4.5-3m0 4.875a1.876 1.876 0 1 1 .001-3.751 1.876 1.876 0 0 1-.001 3.751"})]}),it=({title:t,titleId:e,...o})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":e,...o,children:[t?i.jsx("title",{id:e,children:t}):null,i.jsx("path",{d:"M2.044 15.75a.73.73 0 0 1-.637-.375.8.8 0 0 1-.104-.366.67.67 0 0 1 .103-.384l6.938-12a.74.74 0 0 1 .29-.281A.8.8 0 0 1 9 2.25q.187 0 .366.094a.74.74 0 0 1 .29.281l6.938 12q.113.188.103.384a.8.8 0 0 1-.103.366.73.73 0 0 1-.638.375zM9 13.5q.318 0 .534-.216a.73.73 0 0 0 .216-.534.73.73 0 0 0-.216-.534A.73.73 0 0 0 9 12a.73.73 0 0 0-.534.216.73.73 0 0 0-.216.534q0 .319.216.534A.73.73 0 0 0 9 13.5m0-2.25q.318 0 .534-.216a.73.73 0 0 0 .216-.534V8.25a.73.73 0 0 0-.216-.534A.73.73 0 0 0 9 7.5a.73.73 0 0 0-.534.216.73.73 0 0 0-.216.534v2.25q0 .319.216.534A.73.73 0 0 0 9 11.25"})]});/**
 * filesize
 *
 * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.6
 */const ot="array",nt="bit",z="bits",st="byte",D="bytes",x="",rt="exponent",lt="function",O="iec",at="Invalid number",ct="Invalid rounding method",A="jedec",dt="object",k=".",ut="round",ft="s",mt="si",ht="kbit",pt="kB",wt=" ",bt="string",vt="0",N={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function xt(t,{bits:e=!1,pad:o=!1,base:c=-1,round:l=2,locale:u=x,localeOptions:p={},separator:m=x,spacer:r=wt,symbols:d={},standard:n=x,output:h=bt,fullform:w=!1,fullforms:q=[],exponent:T=-1,roundingMethod:G=ut,precision:g=0}={}){let a=T,v=Number(t),s=[],b=0,B=x;n===mt?(c=10,n=A):n===O||n===A?c=2:c===2?n=O:(c=10,n=A);const j=c===10?1e3:1024,K=w===!0,_=v<0,S=Math[G];if(typeof t!="bigint"&&isNaN(t))throw new TypeError(at);if(typeof S!==lt)throw new TypeError(ct);if(_&&(v=-v),(a===-1||isNaN(a))&&(a=Math.floor(Math.log(v)/Math.log(j)),a<0&&(a=0)),a>8&&(g>0&&(g+=8-a),a=8),h===rt)return a;if(v===0)s[0]=0,B=s[1]=N.symbol[n][e?z:D][a];else{b=v/(c===2?Math.pow(2,a*10):Math.pow(1e3,a)),e&&(b=b*8,b>=j&&a<8&&(b=b/j,a++));const y=Math.pow(10,a>0?l:0);s[0]=S(b*y)/y,s[0]===j&&a<8&&T===-1&&(s[0]=1,a++),B=s[1]=c===10&&a===1?e?ht:pt:N.symbol[n][e?z:D][a]}if(_&&(s[0]=-s[0]),g>0&&(s[0]=s[0].toPrecision(g)),s[1]=d[s[1]]||s[1],u===!0?s[0]=s[0].toLocaleString():u.length>0?s[0]=s[0].toLocaleString(u,p):m.length>0&&(s[0]=s[0].toString().replace(k,m)),o&&l>0){const y=s[0].toString(),R=m||(y.match(/(\D)/g)||[]).pop()||k,P=y.toString().split(R),L=P[1]||x,V=L.length,U=l-V;s[0]=`${P[0]}${R}${L.padEnd(V+U,vt)}`}return K&&(s[1]=q[a]?q[a]:N.fullform[n][a]+(e?nt:st)+(s[0]===1?x:ft)),h===ot?s:h===dt?{value:s[0],symbol:s[1],exponent:a,unit:B}:s.join(r)}const yt=t=>{if(typeof t=="string")return t;if(t instanceof Error)return t.message;if(t!=null)return JSON.stringify(t)},gt=({file:t,actionHandlers:e,onLoadingError:o,onAttachmentOverride:c})=>{const{t:l}=X(),u=H(),[p,m]=f.useState(!!t.loading),[r,d]=f.useState(!1);return f.useEffect(()=>{t.loading&&(async()=>{try{const n=await t.loading;u()&&n&&c(n)}catch(n){u()&&(o==null||o(yt(n)),d(!0))}finally{u()&&m(!1)}})()},[t.loading,u,c,o]),p?i.jsx($,{}):typeof e=="function"?e(t):i.jsxs("div",{className:"flex",children:[e.view&&i.jsx(I,{variant:"ghost",onPress:()=>{e.view(t)},isDisabled:r,children:i.jsx(et,{title:l("actions.view","View",{ns:"common"})})}),e.download&&i.jsx(I,{variant:"ghost",onPress:()=>{e.download(t)},isDisabled:r,children:i.jsx(W,{title:l("actions.download","Download",{ns:"common"})})}),e.delete&&i.jsx(I,{variant:"delete",onPress:()=>{e.delete(t)},children:i.jsx(Q,{title:l("actions.delete","Delete",{ns:"common"})})})]})},jt=({file:t,actionHandlers:e,onAttachmentOverride:o,onFileLoadingError:c})=>{const[l,u]=f.useState(),p=f.useMemo(()=>{if(l){const r=c==null?void 0:c({error:l,file:t});return r!==void 0?r:i.jsx("span",{className:"flex items-center text-error-foreground",children:l})}},[l,t,c]),m=f.useMemo(()=>{var r;return l!==void 0?i.jsx(it,{className:"text-error-action"}):(r=t.type)!=null&&r.includes("image")?i.jsx(tt,{}):i.jsx(F,{})},[l,t.type]);return i.jsxs("div",{className:"flex",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-primary",children:[m,i.jsxs("div",{className:Z("flex items-center gap-1.5",{"opacity-50":l!==void 0}),children:[t.name,i.jsx(C,{children:xt(t.size,{round:0})})]})]}),i.jsx(gt,{file:t,actionHandlers:e,onLoadingError:u,onAttachmentOverride:o}),p]},t.id)},E=(t,e)=>t?o=>{(async()=>{try{await e(o)}catch{}})()}:!1,Y=({files:t,actionButtons:e=!0,onFilesChange:o,onFileLoadingError:c})=>{const[l,u]=f.useState(t);f.useEffect(()=>{u(t)},[t]);const p=f.useMemo(()=>{if(typeof e=="function")return e;const r=typeof e=="boolean"?{view:e,download:e,delete:e}:e;return{view:E(r.view,async d=>{typeof r.view=="function"?await r.view(d):window.open(d.url,"_blank")}),download:E(r.download,async d=>{if(typeof r.download=="function")await r.download(d);else{const n=document.createElement("a");n.href=d.url,n.download=d.name,n.click(),n.remove()}}),delete:E(r.delete,async d=>{typeof r.delete=="function"&&await r.delete(d);const n=l==null?void 0:l.filter(h=>h!==d);u(n),o==null||o(n??[])})}},[e,l,o]),m=f.useCallback(r=>d=>{u(n=>{if(n){const h=n.findIndex(w=>w.id===r.id);if(h!==-1){const w=[...n];return w[h]=d,o==null||o(w),w}}return n})},[o]);return i.jsx("div",{children:l==null?void 0:l.map(r=>i.jsx(jt,{file:r,actionHandlers:p,onAttachmentOverride:m(r),onFileLoadingError:c},r.id))})},M=t=>t instanceof File?{id:J(),name:t.name,size:t.size,type:t.type,url:URL.createObjectURL(t)}:t.map(e=>M(e));try{Y.displayName="FileList",Y.__docgenInfo={description:"Displays a list of files with optional action buttons.",displayName:"FileList",props:{files:{defaultValue:null,description:"List of files to display.\n\nA utility function `fileToAttachment` is provided by this library to convert a `File` or an array of `File` to the required format.",name:"files",required:!1,type:{name:"Attachment[]"}},actionButtons:{defaultValue:{value:"true"},description:`Allows configuration of action buttons.
<br/><br/>
If the value is a boolean, it will show or hide the action buttons with their default behaviour.
<br/><br/>
If the value is an object, it will allow to configure the behaviour of the individual buttons, either a boolean for default behaviour show/hide, or a function that will be triggered when the corresponding button is pressed.
<br/><br/>
If the value is a ReactElement, it will replace the default action buttons.`,name:"actionButtons",required:!1,type:{name:"boolean | ActionButtons | ActionButtonRenderFunction"}},onFilesChange:{defaultValue:null,description:"Callback that triggers when the list of files changes",name:"onFilesChange",required:!1,type:{name:"((files: Attachment[]) => void)"}},onFileLoadingError:{defaultValue:null,description:"Callback that triggers when an error occurs while handling file loading",name:"onFileLoadingError",required:!1,type:{name:"((params: { error?: string; file: Attachment; }) => void | ReactNode)"}}}}}catch{}try{M.displayName="fileToAttachment",M.__docgenInfo={description:"",displayName:"fileToAttachment",props:{}}}catch{}export{Y as F,M as f};
