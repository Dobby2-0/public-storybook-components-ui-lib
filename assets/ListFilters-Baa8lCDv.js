import{j as s}from"./jsx-runtime-DR9Q75dM.js";import{C}from"./ComboBox-0jHPTWwe.js";import{I as S}from"./IconButton-C1MbZo8I.js";import{c as g}from"./index-By-mRCMU.js";import{r as o}from"./index-DRjF_FHU.js";import{a as _,b as M}from"./index-CxcijdX-.js";import{S as b}from"./Select-DL4h2jYR.js";const N=({title:e,titleId:r,...l})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":r,...l,children:[e?s.jsx("title",{id:r,children:e}):null,s.jsx("path",{d:"M7.875 13.05a.66.66 0 0 1-.481-.193.65.65 0 0 1-.194-.478q0-.284.194-.482a.65.65 0 0 1 .481-.197h2.25q.287 0 .48.193.195.193.195.478a.66.66 0 0 1-.194.482.65.65 0 0 1-.481.197zm-2.7-3.375a.66.66 0 0 1-.481-.193.65.65 0 0 1-.194-.478q0-.284.194-.482a.65.65 0 0 1 .481-.197h7.65q.287 0 .48.193.195.193.195.478a.66.66 0 0 1-.194.482.65.65 0 0 1-.481.197zM3.375 6.3a.66.66 0 0 1-.481-.193.65.65 0 0 1-.194-.478q0-.284.194-.482a.65.65 0 0 1 .481-.197h11.25q.287 0 .48.193.195.193.195.478a.66.66 0 0 1-.194.482.65.65 0 0 1-.481.197z"})]}),B=({title:e,titleId:r,...l})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"currentColor",width:"1.125rem",height:"1.125rem","aria-labelledby":r,...l,children:[e?s.jsx("title",{id:r,children:e}):null,s.jsx("path",{d:"M13.93 14.867 2.158 3.114a.66.66 0 0 1-.208-.483.64.64 0 0 1 .206-.475.64.64 0 0 1 .475-.206q.275 0 .483.208L14.886 13.93a.65.65 0 0 1 .208.473.63.63 0 0 1-.207.466.64.64 0 0 1-.475.206.66.66 0 0 1-.482-.208m-1.105-5.192a.66.66 0 0 1-.477-.193.64.64 0 0 1-.198-.477q0-.267.178-.474.179-.206.497-.206.287 0 .48.193.195.193.195.478a.66.66 0 0 1-.194.482.65.65 0 0 1-.481.197M9.45 6.3a.66.66 0 0 1-.477-.193.64.64 0 0 1-.198-.477q0-.267.178-.474t.497-.206h5.175q.287 0 .48.193.195.193.195.478a.66.66 0 0 1-.194.482.65.65 0 0 1-.481.197zm-1.575 6.75a.66.66 0 0 1-.481-.193.65.65 0 0 1-.194-.478q0-.285.194-.482a.65.65 0 0 1 .481-.197h2.25q.287 0 .48.193.195.193.195.478a.66.66 0 0 1-.194.482.65.65 0 0 1-.481.197zm-2.7-3.375a.66.66 0 0 1-.481-.193.65.65 0 0 1-.194-.478q0-.284.194-.482a.65.65 0 0 1 .481-.197h3.544v1.35zM3.375 6.3a.66.66 0 0 1-.481-.193.65.65 0 0 1-.194-.478q0-.284.194-.482a.65.65 0 0 1 .481-.197h1.969V6.3z"})]}),x=40,w=({filterWidth:e,className:r,children:l})=>{const m=o.useRef(null),[c,p]=o.useState(!1),[i,a]=o.useState(),t=_(a,200);M({ref:m,box:"border-box",onResize:t});const d=o.useMemo(()=>o.Children.toArray(l).length,[l]),n=o.useMemo(()=>{if(!(i!=null&&i.width))return 0;const h=i.width-x,v=Math.floor((h-(h/e-1)*4)/e),j=(v-1)*4;return v*e+j},[i,e]),u=o.useMemo(()=>i!=null&&i.width?d*e+(d-1)*4+x>i.width:!1,[d,i,e]),q=o.useMemo(()=>s.jsx("div",{style:{maxWidth:`${n}px`},className:g("flex items-center gap-1 flex-wrap",c?"max-h-none":"max-h-9 overflow-hidden"),children:l}),[l,n,c]);return s.jsxs("div",{ref:m,style:{minWidth:`${e+x}px`},className:g("flex gap-2 min-w-full",r),children:[q,u&&s.jsx(S,{type:"button",variant:"secondary",className:g("shrink-0",c&&"bg-secondary-focus text-secondary-focus-foreground"),onPress:()=>p(h=>!h),children:c?s.jsx(B,{}):s.jsx(N,{})})]})};try{w.displayName="ResponsiveFilterBar",w.__docgenInfo={description:"",displayName:"ResponsiveFilterBar",props:{filterWidth:{defaultValue:null,description:"",name:"filterWidth",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const f=200,y=({filters:e,filterValues:r,onFilterChange:l,className:m})=>{const c=o.useCallback(a=>{l==null||l(Object.assign(r??{},a))},[r,l]),p=o.useCallback(a=>t=>{a&&c({[a]:t==null?void 0:t.id})},[c]),i=o.useCallback(a=>t=>{if(!a)return;const d=t.filter(n=>!!n.id);c({[a]:d.map(n=>`${n.id}`)})},[c]);return s.jsx(s.Fragment,{children:s.jsx(w,{filterWidth:f,className:m,children:e.map(({filterType:a,name:t,...d},n)=>{let u;if(r&&t&&r[t]&&(u=r[t]),a==="single-select")return s.jsx(b,{variant:"borderless",selectionMode:"single",defaultSelectedKey:u??void 0,onSelectionChange:p(t),className:{popover:"w-auto min-w-[--trigger-width]"},style:{width:`${f}px`},...d},n);if(a==="multi-select")return r&&t&&r[t]&&(u=new Set(r[t])),s.jsx(b,{variant:"borderless",selectionMode:"multiple",defaultSelectedKeys:u??void 0,onSelectionChange:i(t),className:{popover:"w-auto min-w-[--trigger-width]"},style:{width:`${f}px`},...d},n);if(a==="combobox")return s.jsx(C,{variant:"borderless",onSelectionChange:p(t),defaultSelectedKey:u??void 0,style:{width:`${f}px`},...d},n)})})})};try{y.displayName="ListFilters",y.__docgenInfo={description:`Component used for presenting various filters above a table

Support Singl-/MultiSelect & Combobox filters`,displayName:"ListFilters",props:{filters:{defaultValue:null,description:"Definition of all filters.",name:"filters",required:!0,type:{name:"FilterDefinition[]"}},filterValues:{defaultValue:null,description:"Initial values of te filters, uses the filter `name` to link to the component.",name:"filterValues",required:!1,type:{name:"Record<string, never>"}},onFilterChange:{defaultValue:null,description:'Callback function called whan a filter changes value, returns the value of all "touched" filters.',name:"onFilterChange",required:!1,type:{name:"((filters: Record<string, string | boolean | string[]>) => void)"}},className:{defaultValue:null,description:"The CSS className for the element.",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{y as L};
