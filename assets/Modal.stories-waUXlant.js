import{j as a}from"./jsx-runtime-DR9Q75dM.js";import{B as $}from"./Button-CABdU0f-.js";import{I as K}from"./IconButton-CxBpMCNA.js";import{c as g}from"./index-DbF_LCtC.js";import{i as G}from"./Close-a0dMVUhZ.js";import{c as J}from"./index-Bb4qSo10.js";import{$ as _,d as E,f as z,s as A,z as C,A as I,i as L,k as W,y as Q,t as X,a as y}from"./useFocusRing-CbqlcRcM.js";import{h as Y,i as Z,j as ee,f as w,d as te,k as ae,l as ne,c as ie,b as oe}from"./Dialog-Ds4FKggB.js";import{$ as le}from"./RSPContexts-DYuYEgz3.js";import{r as d,R as m}from"./index-DRjF_FHU.js";import{$ as re}from"./ariaHideOutside-mw83Tz_1.js";import"./ButtonBase-BlSjidGV.js";import"./Button-y-K8Ltt2.js";import"./Hidden-cNgNYADS.js";import"./index-uWwxbAOW.js";import"./useFocusable-CkCYFKaT.js";import"./usePress-BJhFWZiC.js";import"./useControlledState-uSQY0H5C.js";import"./PortalProvider-DG1WN5c3.js";import"./FocusScope-BLnXaZ_1.js";import"./context-D23C6NFd.js";import"./useLabels-BVJvhECp.js";import"./useLocalizedStringFormatter-C9r8_5dd.js";import"./VisuallyHidden-B_3gckTd.js";let c=typeof document<"u"&&window.visualViewport;function se(){let t=_(),[e,i]=d.useState(()=>t?{width:0,height:0}:S());return d.useEffect(()=>{let n=()=>{i(o=>{let l=S();return l.width===o.width&&l.height===o.height?o:l})};return c?c.addEventListener("resize",n):window.addEventListener("resize",n),()=>{c?c.removeEventListener("resize",n):window.removeEventListener("resize",n)}},[]),e}function S(){return{width:c&&(c==null?void 0:c.width)||window.innerWidth,height:c&&(c==null?void 0:c.height)||window.innerHeight}}function de(t,e,i){let{overlayProps:n,underlayProps:o}=Y({...t,isOpen:e.isOpen,onClose:e.close},i);return Z({isDisabled:!e.isOpen}),ee(),d.useEffect(()=>{if(e.isOpen&&i.current)return re([i.current])},[e.isOpen,i]),{modalProps:E(n),underlayProps:o}}function ce(t,e){[t,e]=z(t,e,le);let{children:i,level:n=3,className:o,...l}=t,r=`h${n}`;return m.createElement(r,{...l,ref:e,className:o??"react-aria-Heading"},i)}const ue=d.forwardRef(ce),fe=d.createContext(null),O=d.createContext(null);function me(t,e){if(d.useContext(O))return m.createElement(N,{...t,modalRef:e},t.children);let{isDismissable:n,isKeyboardDismissDisabled:o,isOpen:l,defaultOpen:r,onOpenChange:s,children:f,isEntering:u,isExiting:p,UNSTABLE_portalContainer:k,shouldCloseOnInteractOutside:F,...H}=t;return m.createElement(U,{isDismissable:n,isKeyboardDismissDisabled:o,isOpen:l,defaultOpen:r,onOpenChange:s,isEntering:u,isExiting:p,UNSTABLE_portalContainer:k,shouldCloseOnInteractOutside:F},m.createElement(N,{...H,modalRef:e},f))}const pe=d.forwardRef(me);function he(t,e){[t,e]=z(t,e,fe);let i=d.useContext(w),n=te(t),o=t.isOpen!=null||t.defaultOpen!=null||!i?n:i,l=A(e),r=d.useRef(null),s=C(l,o.isOpen),f=C(r,o.isOpen),u=s||f||t.isExiting||!1,p=_();return!o.isOpen&&!u||p?null:m.createElement(ge,{...t,state:o,isExiting:u,overlayRef:l,modalRef:r})}const U=d.forwardRef(he);function ge({UNSTABLE_portalContainer:t,...e}){let i=e.modalRef,{state:n}=e,{modalProps:o,underlayProps:l}=de(e,n,i),r=I(e.overlayRef)||e.isEntering||!1,s=L({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:r,isExiting:e.isExiting,state:n}}),f=se(),u={...s.style,"--visual-viewport-height":f.height+"px"};return m.createElement(ae,{isExiting:e.isExiting,portalContainer:t},m.createElement("div",{...E(W(e),l),...s,style:u,ref:e.overlayRef,"data-entering":r||void 0,"data-exiting":e.isExiting||void 0},m.createElement(Q,{values:[[O,{modalProps:o,modalRef:i,isExiting:e.isExiting,isDismissable:e.isDismissable}],[w,n]]},s.children)))}function N(t){let{modalProps:e,modalRef:i,isExiting:n,isDismissable:o}=d.useContext(O),l=d.useContext(w),r=d.useMemo(()=>X(t.modalRef,i),[t.modalRef,i]),s=A(r),f=I(s),u=L({...t,defaultClassName:"react-aria-Modal",values:{isEntering:f,isExiting:n,state:l}});return m.createElement("div",{...E(W(t),e),...u,ref:s,"data-entering":f||void 0,"data-exiting":n||void 0},o&&m.createElement(ne,{onDismiss:l.close}),u.children)}const xe=J(["fixed z-50 gap-4 bg-background transition ease-out","data-[entering]:duration-400 data-[entering]:animate-in","data-[exiting]:duration-300 data-[exiting]:animate-out"],{variants:{side:{top:"inset-x-0 top-0 data-[entering]:slide-in-from-top data-[exiting]:slide-out-to-top",bottom:"inset-x-0 bottom-0 data-[entering]:slide-in-from-bottom data-[exiting]:slide-out-to-bottom",left:"inset-y-0 left-0 h-full w-3/4 data-[entering]:slide-in-from-left data-[exiting]:slide-out-to-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 data-[entering]:slide-in-from-right data-[exiting]:slide-out-to-right sm:max-w-sm"}}}),be=ie,$e=({className:t,isDismissable:e=!0,...i})=>a.jsx(U,{isDismissable:e,className:y(t,n=>g("fixed inset-0 z-50 bg-neutral-900/50 dark:bg-neutral-600/40","data-[exiting]:duration-300 data-[exiting]:animate-out data-[exiting]:fade-out-0","data-[entering]:animate-in data-[entering]:fade-in-0",n)),...i}),ye=({className:t,children:e,side:i,role:n,closeButton:o=!0,...l})=>a.jsx(pe,{className:y(t,r=>g(i?xe({side:i,className:"h-full"}):"fixed left-[50vw] top-1/2 z-50 w-full max-w-lg rounded-[10px] -translate-x-1/2 -translate-y-1/2 p-4 shadow bg-neutral-100 md:w-full duration-200 data-[entering]:fade-in-0 data-[entering]:animate-in data-[entering]:zoom-in-95 data-[entering]:slide-in-from-left-1/2 data-[entering]:slide-in-from-top-[48%] data-[exiting]:duration-300 data-[exiting]:fade-out-0 data-[exiting]:animate-out data-[exiting]:zoom-out-95 data-[exiting]:slide-out-to-left-1/2 data-[exiting]:slide-out-to-top-[48%]",r)),...l,children:a.jsx(oe,{role:n,className:g("grid h-full gap-4","h-full outline-none"),children:y(e,(r,s)=>a.jsxs(a.Fragment,{children:[r,o&&a.jsxs(K,{onPress:s.close,variant:"ghost",className:"absolute right-4 top-4 data-[disabled]:pointer-events-none data-[entering]:bg-accent data-[entering]:text-muted-foreground data-[hovered]:opacity-100 data-[focused]:outline-none data-[focused]:ring-2 data-[focused]:ring-ring data-[focused]:ring-offset-2",children:[a.jsx(G,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]}))})}),ve=({className:t,...e})=>a.jsx("div",{className:g("flex flex-row justify-between ml-auto space-x-2 pt-5",t),...e}),Ee=({className:t,...e})=>a.jsx(ue,{slot:"title",className:g("text-lg font-semibold font-display text-neutral-900 space-y-1.5 text-left pb-4 border-b border-neutral-200",t),...e}),v=({trigger:t,title:e,children:i,footer:n,overlayClassName:o,isOpen:l,onOpenChange:r,isDismissable:s,isKeyboardDismissDisabled:f,...u})=>a.jsxs(be,{isOpen:l,onOpenChange:p=>r==null?void 0:r(p),children:[t,a.jsx($e,{isDismissable:s,isKeyboardDismissDisabled:f,className:o,children:a.jsx(ye,{...u,children:({close:p})=>a.jsxs(a.Fragment,{children:[e&&a.jsx(Ee,{children:e}),i,n&&a.jsx(ve,{children:n(p)})]})})})]});try{v.displayName="Modal",v.__docgenInfo={description:`Modal where you can specify the trigger, title, footer and the content

Can also be used as a sheet when setting the side property`,displayName:"Modal",props:{trigger:{defaultValue:null,description:"The trigger component, e.g. a button, to open the modal",name:"trigger",required:!0,type:{name:"ReactNode"}},title:{defaultValue:null,description:"The title of the modal",name:"title",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The content of the modal",name:"children",required:!0,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"A function that returns footer content, receiving the close function",name:"footer",required:!1,type:{name:"((close: () => void) => ReactNode)"}},overlayClassName:{defaultValue:null,description:"ClassName for the overlay background element",name:"overlayClassName",required:!1,type:{name:"string"}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string | null"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: ModalRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: ModalRenderProps & { defaultClassName: string; }) => string)"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"enum",value:[{value:'"dialog"'},{value:'"alertdialog"'}]}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"((isOpen: boolean) => void)"}},side:{defaultValue:null,description:"",name:"side",required:!1,type:{name:'"left" | "right" | "top" | "bottom" | null'}},shouldCloseOnInteractOutside:{defaultValue:null,description:`When user interacts with the argument element outside of the overlay ref,
return true if onClose should be called.  This gives you a chance to filter
out interaction with elements that should not dismiss the overlay.
By default, onClose will always be called on interaction outside the overlay ref.`,name:"shouldCloseOnInteractOutside",required:!1,type:{name:"((element: Element) => boolean)"}},isEntering:{defaultValue:null,description:"Whether the modal is currently performing an entry animation.",name:"isEntering",required:!1,type:{name:"boolean"}},isExiting:{defaultValue:null,description:"Whether the modal is currently performing an exit animation.",name:"isExiting",required:!1,type:{name:"boolean"}},UNSTABLE_portalContainer:{defaultValue:{value:"document.body"},description:"The container element in which the overlay portal will be placed. This may have unknown behavior depending on where it is portalled to.",name:"UNSTABLE_portalContainer",required:!1,type:{name:"Element"}},isDismissable:{defaultValue:{value:"true"},description:"Whether to close the modal when the user interacts outside it.",name:"isDismissable",required:!1,type:{name:"boolean"}},isKeyboardDismissDisabled:{defaultValue:{value:"false"},description:"Whether pressing the escape key to close the modal should be disabled.",name:"isKeyboardDismissDisabled",required:!1,type:{name:"boolean"}},isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},closeButton:{defaultValue:{value:"true"},description:"",name:"closeButton",required:!1,type:{name:"boolean"}}}}}catch{}const Ke={component:v,argTypes:{closeButton:{control:"boolean",table:{defaultValue:{summary:"true"}}}}},h={args:{closeButton:!0,trigger:a.jsx($,{children:"Open Modal"}),title:"Sign up",footer:t=>a.jsxs(a.Fragment,{children:[a.jsx($,{onPress:t,children:"Cancel"}),a.jsx($,{children:"Save"})]}),children:a.jsxs(a.Fragment,{children:[a.jsx("p",{children:"This is the modal content."}),a.jsx("span",{children:"More content..."})]})}},x={args:{...h.args,closeButton:!1}},b={args:{trigger:a.jsx($,{children:"Open sheet"}),children:"Sheet content",side:"left",closeButton:!1}};var R,B,j;h.parameters={...h.parameters,docs:{...(R=h.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    closeButton: true,
    trigger: <Button>Open Modal</Button>,
    title: "Sign up",
    footer: close => <>
        <Button onPress={close}>Cancel</Button>
        <Button>Save</Button>
      </>,
    children: <>
        <p>This is the modal content.</p>
        <span>More content...</span>
      </>
  }
}`,...(j=(B=h.parameters)==null?void 0:B.docs)==null?void 0:j.source}}};var M,P,V;x.parameters={...x.parameters,docs:{...(M=x.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    closeButton: false
  }
}`,...(V=(P=x.parameters)==null?void 0:P.docs)==null?void 0:V.source}}};var D,q,T;b.parameters={...b.parameters,docs:{...(D=b.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    trigger: <Button>Open sheet</Button>,
    children: "Sheet content",
    side: "left",
    closeButton: false
  }
}`,...(T=(q=b.parameters)==null?void 0:q.docs)==null?void 0:T.source}}};const Ge=["Default","ModalNoCloseButton","Sheet"];export{h as Default,x as ModalNoCloseButton,b as Sheet,Ge as __namedExportsOrder,Ke as default};
